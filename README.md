# exp/user/clustering (v1.6)

## 🧭 目的
ユーザー特徴量でのクラスタリングを実施。

## 🔄 実施内容
- 特徴量に以下を使用(傾向差のなかった興味関心13カテゴリを除外)
"day_of_week","user_gender","user_age","hour_sin","hour_cos"
- "day_of_week" をワンホットエンコーディング⇒周期エンコーディングに変更して検証
- カテゴリカル変数として,"user_gender"をワンホットエンコーディング
- DBI、CHを評価指標として使用
- k=6 で各クラスタの特徴量の傾向と、平均CTR・CVR・CTVRを算出

## ⚙️ 使用データ
- users.csv
- events.csv

## 📊 現状の結果
- 各クラスタでのCTR差は見られず。CVRはクラスタ1・4・5がやや高い結果に。
- 各クラスタの特徴（想定ペルソナ）は以下の通り
    0：週前半の出勤時間帯での閲覧ユーザー。他クラスタに比べ、ややCTRが低い。CVRもクラスタ2に次いで低い。
    1：平均年齢42歳のユーザー（これ以外の平均年齢はいずれも25歳）、閲覧時間は午前中。CVR良好。
    2：日・月の夕方閲覧ユーザー。CVRは低い。
    3：週後半のお昼時に閲覧しているユーザー
    4：週末の午前中に閲覧しているユーザー。CVR良好。
    5：週中のお昼時に閲覧しているユーザー。CVR良好。

⇒総評：CTRに大きな差はないが、週前半の通勤時間帯はCTRが下がるため出稿を抑えたい。
その代わり、
・週末の午前や週後半のお昼時
・40代以上の高めの年齢層
などでの広告出稿を強めることで全体のCVR向上が期待できる。

## 🚧 今後の課題
### 処理内容
- 広告に基づく特徴量、ユーザー・広告特徴量をマージしたもの それぞれでクラスタリングを実施
- 各パターン（ユーザー軸、広告軸、マージ）での行動予測を実施

### 確認指標
- 時間帯について分布の確認も追加 

## 📝 備考
- branch: `feature/clustering-user-v3.1-draft`
- status: **検証中**
- 最終マージ予定：10/17 ver3